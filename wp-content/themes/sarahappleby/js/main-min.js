function goRoyalHomepage(){if($("#homepage-gallery").length){var o=$("#homepage-gallery");o.royalSlider({addActiveClass:!0,imageScaleMode:"fill",slidesSpacing:0,navigateByClick:!1,numImagesToPreload:2,arrowsNavAutoHide:!0,arrowsNavHideOnTouch:!0,keyboardNavEnabled:!0,fadeinLoadedSlide:!0,globalCaption:!1,globalCaptionInside:!1,transitionSpeed:300,sliderDrag:!1,autoPlay:{pauseOnHover:!1,enabled:!0,delay:3e3}});var e=o.data("royalSlider");e.ev.on("rsAfterSlideChange",function(o){var e=$(".rsActiveSlide > .slide").data("tone");console.log("changed",e),$(".header").attr("id",e)}),e.slides[0].holder.on("rsAfterContentSet",function(){var o=$(".rsActiveSlide > .slide").data("tone");console.log(o),$("body").attr("id",o)})}}function goRoyalFolio(){var o=$("#single-folio");o.royalSlider({addActiveClass:!0,controlNavigation:"none",slidesSpacing:0,numImagesToPreload:2,arrowsNavHideOnTouch:!0,keyboardNavEnabled:!0,fadeinLoadedSlide:!0,globalCaption:!1,globalCaptionInside:!1,transitionSpeed:300,autoPlay:{pauseOnHover:!1,enabled:!0,delay:3e3}});var e=o.data("royalSlider");e.slides[0].holder.on("rsAfterContentSet",function(){$("#ajax-folio .inner").addClass("loaded")})}function goMasonry(){var o=$("#portfolio-grid");o.imagesLoaded(function(){o.masonry({columnWidth:".folio-thumb",itemSelector:".folio-thumb"})})}function pjaxComplete(){$("#loader").hide(),goRoyalHomepage(),goRoyalFolio(),goMasonry()}$(document).on("click",".toggle-search",function(o){o.preventDefault(),$(".search-wrap").toggleClass("open"),$('.search-wrap input[type="search"]').trigger("focus")}),$(document).on("click",".folio-thumb a",function(o){o.preventDefault();var e=$(this).attr("href");$("#ajax-folio").fadeIn(200,function(){$("#ajax-folio .inner").load(e+" #single-folio",function(){goRoyalFolio()})})}),$(document).on("click",".ajax-folio-closer",function(o){$("#ajax-folio").fadeOut(200,function(){$("#ajax-folio .inner").empty()})}),pjax.connect({useClass:"pjax",container:"pjax-content",beforeSend:function(o){$("#loader").show()},complete:function(){pjaxComplete()}}),pjaxComplete();